--- setup.py.orig	2011-05-24 16:12:09.030610163 +1200
+++ setup.py	2011-05-24 16:13:19.996515741 +1200
@@ -47,18 +47,11 @@
     compile_result_dir = None
     keep_going = False
 
-SITE_PACKAGES = '%s/lib/python%s/site-packages/'%(SAGE_LOCAL, sys.version[:3])
-if not os.path.exists(SITE_PACKAGES):
-    raise RuntimeError, "Unable to find site-packages directory (see setup.py file in sage python code)."
+SITE_PACKAGES = 'build'
 
 if not os.path.exists('build/sage'):
     os.makedirs('build/sage')
 
-sage_link = SITE_PACKAGES + '/sage'
-if not os.path.islink(sage_link) or not os.path.exists(sage_link):
-    os.system('rm -rf "%s"'%sage_link)
-    os.system('cd %s; ln -sf ../../../../devel/sage/build/sage .'%SITE_PACKAGES)
-
 # search for dependencies and add to gcc -I<path>
 include_dirs = ['%s/include'%SAGE_LOCAL,
                 '%s/include/csage'%SAGE_LOCAL,
